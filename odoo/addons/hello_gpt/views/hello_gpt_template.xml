<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="hello_gpt_template" name="Hello GPT Template">
        <t t-call="web.layout">
            <t t-set="title">Hello GPT</t>
            <div class="container">
                <h1>Hello GPT!</h1>
                <p>Enter your query below:</p>
                <input type="text" id="gpt_query" />
                <button id="submit_query">Submit</button>
                <div id="gpt_response"></div>
            </div>
            <script type="text/javascript">
                document.getElementById('submit_query').addEventListener('click', function() {
                    var query = document.getElementById('gpt_query').value;
                    odoo.jsonRpc("/hello_gpt/query", 'call', {
                        'query': query
                    }).then(function(result) {
                        if (result.error) {
                            document.getElementById('gpt_response').innerHTML = "Error: " + result.error;
                        } else {
                            document.getElementById('gpt_response').innerHTML = result.response;
                        }
                    });
                });
            </script>
        </t>
    </template>

    <!-- Action to open the Hello GPT template -->
    <record id="action_hello_gpt" model="ir.actions.client">
        <field name="name">Hello GPT</field>
        <field name="tag">hello_gpt_client_action</field>
    </record>
</odoo>